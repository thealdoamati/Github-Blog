import { useContext } from 'react'
import { GithubContext } from '../../context/GithubContext'
import {
  HomeDiv,
  ProfileCard,
  ProfileContent,
  ProfileTitle,
  PublicationsDiv,
} from './styles'
import { SearchForm } from '../../components/SearchForm'
import { IssueCard } from '../../components/IssueCard'

export function Home() {
  const { user, userIssues } = useContext(GithubContext)

  return (
    <HomeDiv>
      <ProfileCard>
        <img src={user.avatar_url} alt={`${user.name}'s avatar`} />
        <ProfileContent>
          <ProfileTitle>
            <h1>{user.name}</h1>
            <a href={user.html_url} target="_blank" rel="noopener noreferrer">
              GITHUB
            </a>
          </ProfileTitle>
          <p>{user.bio}</p>
          <div>
            <p>
              <svg
                width="18"
                height="18"
                viewBox="0 0 18 18"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M6.20678 14.1502C6.20678 14.22 6.12853 14.2758 6.02986 14.2758C5.91759 14.2863 5.83934 14.2305 5.83934 14.1502C5.83934 14.0804 5.91759 14.0246 6.01626 14.0246C6.11832 14.0141 6.20678 14.07 6.20678 14.1502ZM5.14869 13.9932C5.12487 14.063 5.19292 14.1432 5.29499 14.1642C5.38344 14.1991 5.48551 14.1642 5.50592 14.0944C5.52634 14.0246 5.46169 13.9444 5.35963 13.9129C5.27117 13.8885 5.17251 13.9234 5.14869 13.9932ZM6.65247 13.9339C6.55381 13.9583 6.48576 14.0246 6.49597 14.1049C6.50617 14.1747 6.59463 14.22 6.6967 14.1956C6.79536 14.1712 6.86341 14.1049 6.8532 14.0351C6.84299 13.9688 6.75113 13.9234 6.65247 13.9339ZM8.89113 0.5625C4.17225 0.5625 0.5625 4.23684 0.5625 9.07664C0.5625 12.9464 2.93725 16.2578 6.32926 17.4233C6.76474 17.5035 6.91784 17.2279 6.91784 17.0011C6.91784 16.7847 6.90764 15.5913 6.90764 14.8586C6.90764 14.8586 4.52608 15.382 4.02596 13.8187C4.02596 13.8187 3.6381 12.8033 3.08014 12.5416C3.08014 12.5416 2.30103 11.9938 3.13458 12.0042C3.13458 12.0042 3.98173 12.074 4.44783 12.9045C5.19292 14.2514 6.44153 13.8641 6.92805 13.6338C7.0063 13.0755 7.22744 12.6882 7.4724 12.4579C5.57056 12.2415 3.65171 11.9589 3.65171 8.60208C3.65171 7.64249 3.91028 7.16096 4.45464 6.54682C4.36618 6.32001 4.07699 5.38485 4.54309 4.17752C5.25416 3.95071 6.89063 5.11966 6.89063 5.11966C7.57107 4.92425 8.30255 4.82306 9.02722 4.82306C9.75189 4.82306 10.4834 4.92425 11.1638 5.11966C11.1638 5.11966 12.8003 3.94722 13.5113 4.17752C13.9774 5.38834 13.6883 6.32001 13.5998 6.54682C14.1442 7.16445 14.4776 7.64598 14.4776 8.60208C14.4776 11.9693 12.4737 12.238 10.5718 12.4579C10.8848 12.7335 11.1502 13.2569 11.1502 14.0769C11.1502 15.2529 11.14 16.708 11.14 16.9941C11.14 17.2209 11.2965 17.4966 11.7286 17.4163C15.1308 16.2578 17.4375 12.9464 17.4375 9.07664C17.4375 4.23684 13.61 0.5625 8.89113 0.5625ZM3.86946 12.5974C3.82523 12.6323 3.83543 12.7126 3.89327 12.7789C3.94771 12.8347 4.02596 12.8591 4.07019 12.8138C4.11442 12.7789 4.10421 12.6986 4.04637 12.6323C3.99194 12.5765 3.91368 12.5521 3.86946 12.5974ZM3.50202 12.3148C3.4782 12.3602 3.51222 12.416 3.58027 12.4509C3.6347 12.4858 3.70275 12.4753 3.72656 12.4265C3.75038 12.3811 3.71636 12.3253 3.64831 12.2904C3.58027 12.2694 3.52583 12.2799 3.50202 12.3148ZM4.60433 13.557C4.5499 13.6024 4.57031 13.7071 4.64856 13.7734C4.72681 13.8536 4.82548 13.8641 4.86971 13.8083C4.91394 13.7629 4.89352 13.6582 4.82548 13.5919C4.75063 13.5117 4.64856 13.5012 4.60433 13.557ZM4.21648 13.0441C4.16205 13.079 4.16205 13.1697 4.21648 13.25C4.27092 13.3302 4.36278 13.3651 4.40701 13.3302C4.46144 13.2849 4.46144 13.1941 4.40701 13.1139C4.35938 13.0336 4.27092 12.9987 4.21648 13.0441Z"
                  fill="#3A536B"
                />
              </svg>

              {user.login}
            </p>
            <p>
              <svg
                width="18"
                height="14"
                viewBox="0 0 18 14"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M6.46875 7C8.33291 7 9.84375 5.4889 9.84375 3.625C9.84375 1.7611 8.33291 0.25 6.46875 0.25C4.60459 0.25 3.09375 1.7611 3.09375 3.625C3.09375 5.4889 4.60459 7 6.46875 7ZM7.80557 8.26562H5.13193C2.6078 8.26562 0.5625 10.3117 0.5625 12.8351C0.5625 13.3413 0.971719 13.75 1.47639 13.75H11.4601C11.9663 13.75 12.375 13.3413 12.375 12.8351C12.375 10.3117 10.3289 8.26562 7.80557 8.26562ZM13.195 8.6875H11.2478C12.4594 9.68154 13.2188 11.1687 13.2188 12.8351C13.2188 13.1726 13.1186 13.4837 12.9551 13.75H16.5938C17.0604 13.75 17.4375 13.3703 17.4375 12.8825C17.4375 10.5754 15.5496 8.6875 13.195 8.6875ZM11.9531 7C13.5853 7 14.9062 5.679 14.9062 4.04688C14.9062 2.41475 13.5853 1.09375 11.9531 1.09375C11.291 1.09375 10.6864 1.31932 10.1939 1.68728C10.4977 2.27052 10.6875 2.92363 10.6875 3.625C10.6875 4.56156 10.3729 5.42166 9.85456 6.12224C10.3896 6.6625 11.1305 7 11.9531 7Z"
                  fill="#3A536B"
                />
              </svg>

              {user.company}
            </p>
            <p>
              <svg
                width="14"
                height="18"
                viewBox="0 0 14 18"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M11.8867 0.5625C12.7601 0.5625 13.4688 1.27079 13.4688 2.14453V15.8555C13.4688 16.7289 12.7601 17.4375 11.8867 17.4375H8.72266V14.8008C8.72266 13.9274 8.01404 13.2188 7.14062 13.2188C6.26721 13.2188 5.55859 13.9274 5.55859 14.8008V17.4375H2.39453C1.52079 17.4375 0.8125 16.7289 0.8125 15.8555V2.14453C0.8125 1.27079 1.52079 0.5625 2.39453 0.5625H11.8867ZM2.92188 9.52734C2.92188 9.81738 3.15786 10.0547 3.44922 10.0547H4.50391C4.79395 10.0547 5.03125 9.81738 5.03125 9.52734V8.47266C5.03125 8.18262 4.79395 7.94531 4.50391 7.94531H3.44922C3.15786 7.94531 2.92188 8.18262 2.92188 8.47266V9.52734ZM6.61328 7.94531C6.32324 7.94531 6.08594 8.18262 6.08594 8.47266V9.52734C6.08594 9.81738 6.32324 10.0547 6.61328 10.0547H7.66797C7.95801 10.0547 8.19531 9.81738 8.19531 9.52734V8.47266C8.19531 8.18262 7.95801 7.94531 7.66797 7.94531H6.61328ZM9.25 9.52734C9.25 9.81738 9.4873 10.0547 9.77734 10.0547H10.832C11.1221 10.0547 11.3594 9.81738 11.3594 9.52734V8.47266C11.3594 8.18262 11.1221 7.94531 10.832 7.94531H9.77734C9.4873 7.94531 9.25 8.18262 9.25 8.47266V9.52734ZM3.44922 3.72656C3.15786 3.72656 2.92188 3.96387 2.92188 4.25391V5.30859C2.92188 5.59863 3.15786 5.83594 3.44922 5.83594H4.50391C4.79395 5.83594 5.03125 5.59863 5.03125 5.30859V4.25391C5.03125 3.96387 4.79395 3.72656 4.50391 3.72656H3.44922ZM6.08594 5.30859C6.08594 5.59863 6.32324 5.83594 6.61328 5.83594H7.66797C7.95801 5.83594 8.19531 5.59863 8.19531 5.30859V4.25391C8.19531 3.96387 7.95801 3.72656 7.66797 3.72656H6.61328C6.32324 3.72656 6.08594 3.96387 6.08594 4.25391V5.30859ZM9.77734 3.72656C9.4873 3.72656 9.25 3.96387 9.25 4.25391V5.30859C9.25 5.59863 9.4873 5.83594 9.77734 5.83594H10.832C11.1221 5.83594 11.3594 5.59863 11.3594 5.30859V4.25391C11.3594 3.96387 11.1221 3.72656 10.832 3.72656H9.77734Z"
                  fill="#3A536B"
                />
              </svg>
              {user.followers} seguidores
            </p>
          </div>
        </ProfileContent>
      </ProfileCard>
      <PublicationsDiv>
        <h3>Publicações</h3>
        <p>{userIssues.length} publicações</p>
      </PublicationsDiv>

      <SearchForm />
      {userIssues.map((userIssue) => {
        return <IssueCard key={userIssue.id} issue={userIssue} />
      })}
    </HomeDiv>
  )
}
